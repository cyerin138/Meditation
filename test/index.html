<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/styleorig.css">
    <link rel="stylesheet" href="./css/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/fontawesome/css/all.min.css">
</head>

<body>
    <!-- 메인 -->
    <section id="main">
        <div class="main-wrap position-relative">
            <div class="position-absolute main-content">
                <div class="position-relative w-100 h-100">
                    <div class="main-box">
                        <div class="main-text">숨을 내쉬십시오.</div>
                        <div class="main-count">
                            <p class="main-tt">앞으로</p>
                            <p class="main-time">10초</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="circle-box">
                <div class="circle-1 main-circle"></div>
                <div class="circle-2 main-circle"></div>
                <div class="circle-3 main-circle"></div>
                <div class="circle-4 main-circle"></div>

            </div>
        </div>
    </section>
    <script src="./js/jquery-3.1.1.min.js"></script>

    <script>
        window.onload = function () {
            const CIRCLE1 = $('.circle-1');
            const CIRCLE2 = $('.circle-2');
            const CIRCLE3 = $('.circle-3');
            const CIRCLE4 = $('.circle-4');

            setInterval(function () {
                CIRCLE1.animate({ width: 720, height: 720 }, 2000, 'swing',
                    function () {
                        $(this).css({ 'opacity': 0.3 });
                    }).animate({
                        height: 900, width: 900
                    }, 2000, 'swing', function () {
                        $(this).css({ 'opacity': 0.1 });
                    }).animate({
                        height: 950, width: 950
                    }, 2000, 'swing', function () {
                        $(this).css({ 'opacity': 0.2 });
                    }).animate({
                        height: 600, width: 600
                    }, 2000, 'swing', function () {
                        $(this).css({ 'opacity': 0.4 });
                    })
                CIRCLE2.animate({ width: 900, height: 900 }, 2000, 'swing',
                    function () {
                        $(this).css({ 'opacity': 0.1 });
                    }).animate({
                        height: 950, width: 950
                    }, 2000, 'swing', function () {
                        $(this).css({ 'opacity': 0.2 });
                    }).animate({
                        height: 600, width: 600
                    }, 2000, 'swing', function () {
                        $(this).css({ 'opacity': 0.4 });
                    }).animate({
                        height: 720, width: 720
                    }, 2000, 'swing', function () {
                        $(this).css({ 'opacity': 0.3 });
                    })
                CIRCLE3.animate({ width: 950, height: 950 }, 2000, 'swing',
                    function () {
                        $(this).css({ 'opacity': 0.2 });
                    }).animate({
                        height: 600, width: 600
                    }, 2000, 'swing', function () {
                        $(this).css({ 'opacity': 0.4 });
                    }).animate({
                        height: 720, width: 720
                    }, 2000, 'swing', function () {
                        $(this).css({ 'opacity': 0.3 });
                    }).animate({
                        height: 900, width: 900
                    }, 2000, 'swing', function () {
                        $(this).css({ 'opacity': 0.1 });
                    })
                CIRCLE4.animate({ width: 600, height: 600 }, 2000, 'swing',
                    function () {
                        $(this).css({ 'opacity': 0.4 });
                    }).animate({
                        height: 720, width: 720
                    }, 2000, 'swing', function () {
                        $(this).css({ 'opacity': 0.3 });
                    }).animate({
                        height: 900, width: 900
                    }, 2000, 'swing', function () {
                        $(this).css({ 'opacity': 0.1 });
                    }).animate({
                        height: 950, width: 950
                    }, 2000, 'swing', function () {
                        $(this).css({ 'opacity': 0.2 });
                    })
            })

        }














        //---------------------------------------------------



        const Timer = document.getElementById('Timer'); //스코어 기록창-분
        let time = 180000;
        let min = 3;
        let sec = 60;


        Timer.value = min + ":" + '00';

        function TIMER() {
            PlAYTIME = setInterval(function () {
                time = time - 1000; //1초씩 줄어듦
                min = time / (60 * 1000); //초를 분으로 나눠준다.

                if (sec > 0) { //sec=60 에서 1씩 빼서 출력해준다.
                    sec = sec - 1;
                    Timer.value = Math.floor(min) + ':' + sec; //실수로 계산되기 때문에 소숫점 아래를 버리고 출력해준다.

                }
                if (sec === 0) {
                    // 0에서 -1을 하면 -59가 출력된다.
                    // 그래서 0이 되면 바로 sec을 60으로 돌려주고 value에는 0을 출력하도록 해준다.
                    sec = 60;
                    Timer.value = Math.floor(min) + ':' + '00'
                }

            }, 1000); //1초마다 
        }


        TIMER();
        setTimeout(function () {
            clearInterval(PlAYTIME);
        }, 180000);//3분이 되면 타이머를 삭제한다.

    </script>

</body>

</html>